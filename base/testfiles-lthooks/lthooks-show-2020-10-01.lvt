% This is somehow `lthooks-show.lvt` frozen to the 2020-10-01 release
% before hooks with arguments were introduced.

\input{regression-test}
\RequirePackage[2020-10-01]{latexrelease}
\TYPE{********* RequirePackage[2020-10-01]{latexrelease}}

\RequirePackage{./lthooks-show}

\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

\documentclass{article}

% There are many different hook profiles.

\START

\TESTBlockHookEnv
  {Undefined environment envA}
  {envA}
\NewDocumentEnvironment
  {envA}{}
  {\TYPE{<BEGIN{envA}>}}
  {\TYPE{<END{envA}>}}
\begin{envA}\TYPE{<envA BODY>}\end{envA}

\NewDocumentEnvironment
  {envB}{}
  {\TYPE{<BEGIN{envB}>}}
  {\TYPE{<END{envB}>}}
\TESTBlockHookEnv
  {Defined environment envB}
  {envB}
\begin{envB}\TYPE{<envB BODY>}\end{envB}

\TESTBlockHookCmd
  {Undefined command with no arguments}
  {cmdA}
\NewDocumentCommand\cmdA{}{\TYPE{<cmdA BODY>}}
\cmdA

\NewDocumentCommand\cmdB{}{\TYPE{<cmdB BODY>}}
\TESTBlockHookCmd
  {Defined command with no arguments}
  {cmdB}
\cmdB

\TESTBlockHookCustomGeneric
  {CUSTOM GENERIC HOOK}
  {CUSTOM GENERIC HOOK}

\TESTBlockHook
  {OTHER HOOK: Undeclared}
  {UNDECLARED HOOK}

\NewHook{DECLARED HOOK}

\TESTBlockHook
  {OTHER HOOK: declared}
  {DECLARED HOOK}

\NewReversedHook{DECLARED REVERSED}

\TESTBlockHook
  {OTHER HOOK: declared reversed}
  {DECLARED REVERSED}

\OMIT
\begin{document}
\TIMO

\BEGINTEST{After \begin{document}}

  \BEGINTEST{Commands}
    \cmdA
    \SEPARATOR
    \cmdB
  \ENDTEST

\ENDTEST

\TYPE{!!!! If this test changes the documentation needs updating !!!!}

\END
