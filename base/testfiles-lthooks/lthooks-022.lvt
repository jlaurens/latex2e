\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

\documentclass{article}

\input{regression-test}

\START

\NewHook{foo}
\AddToHook{foo}[label-A]{\typeout{A-code}}
\AddToHook{foo}[label-B]{\typeout{B-code}}
\AddToHook{foo}[label-C]{\typeout{C-code}}

\DeclareHookRule{foo}{label-A}{voids}{label-B}
\DebugPrintHook{foo}

\DeclareHookRule{foo}{label-A}{incompatible-warning}{label-B}
\DebugPrintHook{foo}

\DeclareHookRule{foo}{label-A}{unrelated}{label-B}
\DebugPrintHook{foo}

\DeclareHookRule{foo}{label-B}{before}{label-A}
\DebugPrintHook{foo}

\OMIT
\begin{document}
\TIMO

\DebugPrintHook{foo}

\UseHook{foo}

\END
