% This test file shows the behaviour of the commands that replaced
% \ProvideHook.  This test should produce the same output as the
% old lthooks-029 test.

% This test file should be removed when the deprecation cycle of
% \ProvideHook ends and the command is removed.

\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

\input{regression-test}

\documentclass{article}

\START

\typeout{------------ all unknown --------------}

\DebugPrintHook{aaa}
\DebugPrintHook{bbb}
\DebugPrintHook{ccc}

\NewHook{aaa}
\DebugPrintHook{aaa}

\typeout{------------ provide a known hook --------------}

\ActivateGenericHook{aaa} % \ProvideHook
\DebugPrintHook{aaa}

\typeout{------------ provide a known hook with data --------------}

\AddToHook{aaa}[X]{X1}

\ActivateGenericHook{aaa} % \ProvideHook
\DebugPrintHook{aaa}

\AddToHook{bbb}[Y]{Y1}

\typeout{------------ provide an unknown hook with data --------------}

\ActivateGenericHook{bbb} % \ProvideHook
\DebugPrintHook{bbb}
\ActivateGenericHook{bbb} % \ProvideHook
\DebugPrintHook{bbb}

\typeout{------------ provide an unknown reversed hook --------------}

\NewReversedHook{ccc}
\DebugPrintHook{ccc}

\typeout{------------ provide an known reversed hook --------------}

\ActivateGenericHook{ccc} % \ProvideReversedHook
\DebugPrintHook{ccc}

\AddToHook{ccc}[Z]{Z1}

\typeout{------------ provide an known reversed hook with data --------------}

\ActivateGenericHook{ccc} % \ProvideReversedHook
\DebugPrintHook{ccc}

\typeout{------------ provide an reversed hook on an existing normal hook --------------}

\ActivateGenericHook{aaa} % \ProvideReversedHook
\DebugPrintHook{aaa}

\typeout{------------ provide an normal hook on an existing reversed hook --------------}

\ActivateGenericHook{ccc} % \ProvideHook
\DebugPrintHook{ccc}

\typeout{------------ provide hook that was disabled --------------}

\DisableGenericHook{ddd} % \DisableHook
\ActivateGenericHook{ddd} % \ProvideHook
\DebugPrintHook{ddd}



\END
